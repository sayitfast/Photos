@model Code.Models.HomeVIewModels.HomeViewModel



@inject UserManager<ApplicationUser> UserManager


@{
	ViewData["Title"] = "Home Page";
}
<img src="http://cdn.wallpapersafari.com/49/2/TibMQf.jpg" class="img_cover" />
<div class="row">
	<div class="col-md-8 col-md-offset-2 text-center">
		<p class="lead">
			<h1 style="color: white;">Welcome to Photos</h1>
			<p style="color: white;" class="lead">
		<strong>Upload</strong>, <strong>comment</strong>, <strong >rate</strong> and <strong >explore</strong> photos and albums from people all over the world!</p>
		</p>
	</div>
</div>
<div class="row">
	<div class="text-center">
		@using (Html.BeginForm<SearchController>(c => c.Index(), FormMethod.Post, new { id = "search-form"}))
		{
			@Html.TextBoxFor(m => m.Search, new { @id = "search-box", @placeholder = "Search by category" })
			<input type="submit" id="search-button" value="Go" />
		}
	</div>
</div>

@if (Model.Images.Count > 0)
{
	<div class="row" id="latest-album-title" style="margin-top: 50px;">
		<div class="col-md-4 col-md-offset-4 text-center">Latest Photos</div>
	</div>

	<div class="row">

		@foreach (var image in Model.Images)
		{
			<div class="col-md-4  text-center u_image">
				<img src="~/uploads/@image.Path" style="height: 200px; width:initial;" />
				<h4><strong>@image.Name</strong> @image.Description</h4>
				<br />
				<div class="row">
					<div class="col-md-6 col-md-offset-3 text-center">
						<a href="@(Url.Action("DislikeImage", "Image", new { @imageId = image.Id}))">
							<span class="glyphicon glyphicon-chevron-left"></span>
						</a>
						<span><strong>@image.Rating</strong></span>
						<a href="@(Url.Action("LikeImage", "Image", new { @imageId = image.Id }))">
							<span class="glyphicon glyphicon-chevron-right"></span>
						</a>
					</div>
				</div>
				<br />
			</div>
		}

	</div>
}

@if (Model.Albums.Capacity > 0)
{
	<div class="row" id="latest-album-title" style="margin-top: 50px;">
		<div class="col-md-4 col-md-offset-4 text-center">Latest Albums</div>
	</div>

	<div class="row">

		@foreach (var album in Model.Albums)
				{
			<div class="col-md-4 u_album text-center">

				<h3 class="text-center">@album.Name</h3>

				@if (album.Images.Capacity > 0)
					{
					<div id="album-with-pictures" class="carousel slide" data-ride="carousel" data-interval="4000" data-delay="3000">

						<div class="carousel-inner" role="listbox">

							@foreach (var image in album.Images)
							{
								var firstImage = album.Images.First();

								if (image == firstImage)
								{
									<div class="item active">
										<img src="~/uploads/@image.Path" alt="Chania" class="u_album_img" style="height: 300px; width: initial"/>
									</div>
								}
								else
								{
									<div class="item">
										<img src="~/uploads/@image.Path" alt="Chania" class="u_album_img"  style="height: 300px; width: initial"/>
									</div>
								}
							}
						</div>
					</div>
					}
					else
					{
					<img src="~/images/album_with_no_images.jpg" />
					}

				<div class="a_details_link">
					<a href="@(Url.Action("Details", "Albums", new { @albumId = album.Id, @userId = album.User.Id}))" title="View" class="pull-right">
						<span class="glyphicon glyphicon-option-horizontal"></span>
					</a>
				</div>
			</div>
				}
	</div>
}
else
{
	<h1 class="text-center" style="margin-top: 10%;">No content!</h1>
}

<div class="clearfix"></div>